<div id="WhatToPlay">
    <h1>What To Play</h1>
    <form [formGroup]="formFields">
        <mat-form-field>
            <mat-label>Username</mat-label>
            <input matInput formControlName="username">
        </mat-form-field>
        <button mat-raised-button (click)="onSubmit()">Fetch List</button>
    </form>
    <p *ngIf="refetch > 0">Data loading. Re-fetch in {{refetch}} seconds...</p>
    <div style="margin: 16px 0;">
        <mat-button-toggle-group
            name="loadedUsers"
            aria-label="Loaded Users"
            #userToggle="matButtonToggleGroup"
            (change)="toggleUser(userToggle.value)"
            multiple
        >
            <mat-button-toggle *ngFor="let user of usernameKeys()" value="{{user}}">
                {{user}}
            </mat-button-toggle>
        </mat-button-toggle-group>
        <p *ngIf="tooManyUsers">Too many users selected to calculate and display diagram.</p>
    </div>
    <button (click)="generateDiagram()">Generate Diagram</button>
    <div id="VennDiagram"></div>
</div>